# === Project ===
# 複数環境を立てる場合は COMPOSE_PROJECT_NAME を変更する
# 例: COMPOSE_PROJECT_NAME=micro-dp-staging
COMPOSE_PROJECT_NAME=micro-dp

# === Host Ports (ホスト側ポート) ===
# 複数環境で衝突しないように変更する
API_HOST_PORT=8080
WEB_HOST_PORT=3000
VALKEY_HOST_PORT=6379
MINIO_API_HOST_PORT=9000
MINIO_CONSOLE_HOST_PORT=9001

# === Backend (Go) ===
SQLITE_PATH=/data/sqlite/micro-dp.db
JWT_SECRET=dev-secret-change-in-production
OTEL_TRACES_ENABLED=true
OTEL_METRICS_ENABLED=true
# For local observability stack (example): localhost:4317
# You can also use URL format (example): http://localhost:4317
OTEL_EXPORTER_OTLP_ENDPOINT=
OTEL_EXPORTER_OTLP_INSECURE=true
OTEL_SERVICE_NAME_API=micro-dp-api
OTEL_SERVICE_NAME_WORKER=micro-dp-worker

# === Valkey ===
VALKEY_ADDR=valkey:6379

# === MinIO ===
MINIO_ENDPOINT=minio:9000
MINIO_PRESIGN_ENDPOINT=localhost:9000
MINIO_REGION=us-east-1
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin
MINIO_BUCKET=micro-dp

# === Feature Flags ===
# true/false で機能の有効/無効を切り替え (デフォルト: true)
FF_EVENTS_INGEST=true
FF_DATASETS_API=true
FF_ADMIN_TENANTS=true
FF_UPLOADS_API=true

# === Notification ===
# provider: "sendgrid" or "log" (default: log)
NOTIFICATION_PROVIDER=log
SENDGRID_API_KEY=
NOTIFICATION_FROM_ADDRESS=noreply@example.com
NOTIFICATION_FROM_NAME=micro-dp

# === Frontend ===
API_BACKEND_URL=http://localhost:8080
NEXT_PUBLIC_API_URL=http://localhost:8080
NEXT_PUBLIC_TRACKER_ENDPOINT=http://localhost:8080/api/v1/events
NEXT_PUBLIC_TRACKER_ENABLED=false
NEXT_PUBLIC_TRACKER_DEBUG=true

# === Google OAuth (OIDC) ===
GOOGLE_OAUTH_CLIENT_ID=
GOOGLE_OAUTH_CLIENT_SECRET=
GOOGLE_OAUTH_REDIRECT_URI=http://localhost:8080/api/v1/auth/google/callback
GOOGLE_OAUTH_POST_LOGIN_REDIRECT_URI=http://localhost:3000/dashboard
GOOGLE_OAUTH_POST_FAILURE_REDIRECT_URI=http://localhost:3000/signin

# === Stripe Billing ===
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=
STRIPE_CHECKOUT_SUCCESS_URL=http://localhost:3000/billing?checkout=success
STRIPE_CHECKOUT_CANCEL_URL=http://localhost:3000/billing?checkout=cancel
STRIPE_PORTAL_RETURN_URL=http://localhost:3000/billing
# format: price_xxx:plan_name,price_yyy:plan_name
STRIPE_PRICE_TO_PLAN_MAP=
